# 코드 리뷰 체크리스트

## 📋 의존성 검증 체크리스트

### 1. 모노레포 의존성 검증
- [ ] **순환 참조 확인**
  - `yarn validate:deps` 실행 결과 확인
  - 패키지 간 순환 의존성 없음

- [ ] **TypeScript 참조 검증**
  - `yarn validate:refs` 실행 결과 확인
  - 모든 프로젝트 참조가 유효함

- [ ] **의존성 관계 분석**
  - shared → data-service → rest-service → udp-service 방향 준수
  - 역방향 의존성 없음

### 2. 타입 안정성 체크
- [ ] **암시적 any 타입 없음**
  - 모든 변수, 매개변수, 반환값에 명시적 타입 지정
  - TypeScript strict 모드 준수

- [ ] **타입 가드 및 검증**
  - zod 또는 유사한 라이브러리로 런타임 검증
  - 경계 조건 처리

- [ ] **제네릭 및 유니온 타입 적절성**
  - 복잡한 타입이 필요한 경우 적절히 사용
  - 타입 오버엔지니어링 방지

## 🧪 테스트 커버리지 요구사항

### 1. 단위 테스트
- [ ] **핵심 비즈니스 로직 테스트**
  - 정규화 함수, 검증 함수 등
  - 에러 케이스 포함

- [ ] **유틸리티 함수 테스트**
  - 공통 유틸리티 함수들
  - 경계 조건 테스트

### 2. 통합 테스트
- [ ] **API 엔드포인트 테스트**
  - 실제 API 호출 결과 검증
  - 에러 응답 처리 확인

- [ ] **캐시 플로우 테스트**
  - 캐시 히트/미스 시나리오
  - 캐시 무효화 로직

### 3. 테스트 품질
- [ ] **테스트 명명 규칙 준수**
  - `describe`와 `it` 블록의 명확한 설명
  - 테스트 의도가 명확히 드러남

- [ ] **테스트 격리**
  - 각 테스트가 독립적으로 실행 가능
  - 공유 상태 오염 없음

## ⚡ 성능 고려사항

### 1. API 호출 최적화
- [ ] **중복 호출 방지**
  - 캐시 활용
  - 배치 처리 고려

- [ ] **레이트 리미팅 준수**
  - Lost Ark API 제한 (100회/분) 준수
  - 적절한 재시도 로직

### 2. 메모리 사용량
- [ ] **대용량 데이터 처리**
  - 스트리밍 처리 고려
  - 메모리 누수 방지

- [ ] **캐시 크기 관리**
  - 적절한 TTL 설정
  - 메모리 사용량 모니터링

## 🔒 보안 검토 포인트

### 1. 환경변수 관리
- [ ] **민감 정보 노출 방지**
  - API 키, 비밀번호 등 하드코딩 금지
  - .env 파일 gitignore 확인

- [ ] **환경변수 검증**
  - zod 스키마로 타입 및 범위 검증
  - 필수 환경변수 누락 방지

### 2. 입력 검증
- [ ] **사용자 입력 검증**
  - SQL 인젝션 방지
  - XSS 방지
  - 적절한 입력 길이 제한

### 3. API 보안
- [ ] **CORS 설정**
  - 적절한 origin 설정
  - 불필요한 헤더 노출 방지

- [ ] **레이트 리미팅**
  - API 남용 방지
  - 적절한 제한 설정

## 📝 코드 품질

### 1. 가독성
- [ ] **명확한 함수명과 변수명**
  - camelCase, PascalCase 규칙 준수
  - 의도가 명확히 드러나는 이름

- [ ] **적절한 주석**
  - 복잡한 로직에 대한 설명
  - API 참조 버전 명시

### 2. 구조
- [ ] **단일 책임 원칙**
  - 함수와 클래스의 명확한 책임
  - 과도한 복잡성 방지

- [ ] **에러 처리**
  - 적절한 에러 메시지
  - 에러 전파 체계

## 🔗 관련 문서

- [개발자 워크플로우](./development-workflow.md)
- [문제 해결 가이드](./troubleshooting-guide.md)
- [모범 사례](./best-practices.md)